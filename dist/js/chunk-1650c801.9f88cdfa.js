(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1650c801"],{"1aba":function(t,i,e){"use strict";e("90c9")},"230c":function(t,i,e){"use strict";e.r(i);var a=e("1da1"),s=(e("99af"),e("fb6a"),e("96cf"),e("ac0d")),n=e("d354"),o={baseUrl:e("a417").a.e_isconte+"/api/articles",index:function(t){var i=t.offset,e=t.limit;return Object(n.a)({url:this.baseUrl,method:"get",params:{offset:i,limit:e}})},docDetail:function(t){return Object(n.a)({url:this.baseUrl+"/"+t,method:"get"})}},r={name:"CustomArticle",mixins:[s.b],data:function(){return{loading:!0,items:[],offset:0,limit:100,busy:!1,total:0,data:"",title:"",platform:"ORI",fullData:"",sideWidthDefault:300,sideWidth:0,sideMaxWidth:500,sideMinWidth:220,clientStartX:0,detailHeight:0}},computed:{listHeight:function(){return this.contentHeight},id:function(){var t=this.$route.params.id?this.$route.params.id:0;return t},showDetail:function(){return this.id&&this.data}},watch:{id:function(t,i){var e=this;this.detail(),this.active(t,i),this.showListAction(this.showListDeal()),t?this.sideWidth=this.sideWidthDefault:(this.data="",this.sideWidth=0),i||this.$nextTick((function(){e.dragControllerDeal()}))},clientWidth:function(t){this.showListAction(this.showListDeal())}},created:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.index();case 2:if(t.showListAction(t.showListDeal()),!t.id){i.next=10;break}return t.sideWidth=t.sideWidthDefault,i.next=7,t.detail();case 7:return i.next=9,t.active(t.id,0);case 9:t.dragControllerDeal();case 10:setTimeout((function(){t.loading=!1}),300);case 11:case"end":return i.stop()}}),i)})))()},methods:{index:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function i(){var e,a,s,n,r,d,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e=t.offset,a=t.limit,i.next=3,o.index({offset:e,limit:a});case 3:0===(s=i.sent).data.code&&(n=s.data.data,r=n.hasMore,d=n.items,c=n.totalCount,t.total=c,t.busy=!r,d.length>0&&(t.items=t._.concat(t.items,d)));case 5:case"end":return i.stop()}}),i)})))()},loadMore:function(){this.offset+=this.limit,this.index()},detail:function(){var t=this;o.docDetail(this.id).then((function(i){if(0===i.data.code){var e=i.data.data.res,a=e.platform;"ORI"===a&&(t.data=e.content_html),"YUQUE"===a&&(t.data=e.yuque_content.body_html),t.title=e.title,t.fullData=e,t.$nextTick((function(){t.setDragHeight()}))}}))},active:function(t,i){var e=document.querySelector("#nav-item-"+t),a=document.querySelector("#nav-item-"+i);e&&e.classList.add("active"),a&&a.classList.remove("active")},dragControllerDeal:function(){var t=this;this.$refs.moveDom.onmousedown=function(i){t.clientStartX=i.clientX,i.preventDefault(),document.onmousemove=function(i){t.moveHandle(i.clientX)},document.onmouseup=function(i){document.onmouseup=null,document.onmousemove=null,t.setDragHeight()}}},moveHandle:function(t){var i=t-this.clientStartX,e=this.sideWidth+i;e<this.sideMinWidth&&(e=this.sideMinWidth),e>this.sideMaxWidth&&(e=this.sideMaxWidth),this.sideWidth=e,this.clientStartX=t},showListDeal:function(){return!this.id||!(this.clientWidth<this.$config.articleShowListWidth)},setDragHeight:function(){if(this.id){var t=document.querySelector("#article-detail-title"),i=window.getComputedStyle(t).getPropertyValue("height"),e=document.querySelector("#article-detail-body"),a=window.getComputedStyle(e).getPropertyValue("height"),s=window.innerHeight,n=parseFloat(i.slice(0,-2))+parseFloat(a.slice(0,-2));this.detailHeight=n>s?n:s}}}},d=(e("1aba"),e("2877")),c=Object(d.a)(r,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"content-detail-container"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"title-content",class:{"only-list":!t.showDetail},style:{"min-width":t.sideWidth+"px","max-width":t.sideWidth+"px"}},[e("div",{staticClass:"title-list-container",style:{width:t.sideWidth>0?t.sideWidth+"px":t.$config.staticWidth}},t._l(t.items,(function(i){return e("div",{key:i.id,staticClass:"title-item",attrs:{id:"nav-item-"+i.id},on:{click:function(e){return t.$router.push({params:{id:i.id}})}}},[e("div",{staticClass:"title"},[t._v(" "+t._s(i.title)+" ")]),e("div",{staticClass:"info"},[e("span",{staticClass:"time"},[t._v(" "+t._s(t.$dayjs(i.info_at).format("YYYY-MM-DD"))+" ")])])])})),0)]),e("div",{ref:"moveDom",staticClass:"touch-div",class:{hidden:t.showDetail&&!t.showList||!t.showDetail&&t.showList},style:{height:t.detailHeight?t.detailHeight+"px":"100%"}}),t.showDetail?e("div",{staticClass:"detail-content",style:{width:t.$config.staticWidth-4-t.sideWidth+"px"}},[e("div",{staticClass:"title",attrs:{id:"article-detail-title"}},[e("span",{staticClass:"name"},[t._v(" "+t._s(t.title)+" ")]),e("span",{staticClass:"date"},[t._v(" "+t._s(t.$dayjs(t.fullData.updated_at).format("YYYY-MM-DD"))+" ")])]),"YUQUE"===t.platform?[e("iframe",{staticStyle:{width:"100%",height:"calc(100vh - 4px)",border:"none"},attrs:{srcdoc:t.data,frameborder:"0",scrolling:"auto"}})]:[e("div",{staticClass:"markdown-container markdown-body",attrs:{id:"article-detail-body"},domProps:{innerHTML:t._s(t.data)}})]],2):t._e()])}),[],!1,null,"b49f1c5a",null);i.default=c.exports},"90c9":function(t,i,e){},fb6a:function(t,i,e){"use strict";var a=e("23e7"),s=e("861d"),n=e("e8b5"),o=e("23cb"),r=e("50c4"),d=e("fc6a"),c=e("8418"),l=e("b622"),h=e("1dde")("slice"),u=l("species"),f=[].slice,m=Math.max;a({target:"Array",proto:!0,forced:!h},{slice:function(t,i){var e,a,l,h=d(this),v=r(h.length),p=o(t,v),w=o(void 0===i?v:i,v);if(n(h)&&("function"!=typeof(e=h.constructor)||e!==Array&&!n(e.prototype)?s(e)&&null===(e=e[u])&&(e=void 0):e=void 0,e===Array||void 0===e))return f.call(h,p,w);for(a=new(void 0===e?Array:e)(m(w-p,0)),l=0;p<w;p++,l++)p in h&&c(a,l,h[p]);return a.length=l,a}})}}]);