(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cce6be34"],{"230c":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-detail-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"title-content",class:{"only-list":!t.showDetail},style:{"min-width":t.sideWidth+"px","max-width":t.sideWidth+"px"}},[i("div",{staticClass:"title-list-container",style:{width:t.sideWidth>0?t.sideWidth+"px":t.$config.staticWidth}},t._l(t.items,(function(e){return i("div",{key:e.id,staticClass:"title-item",attrs:{id:"nav-item-"+e.id},on:{click:function(i){return t.$router.push({params:{id:e.id}})}}},[i("div",{staticClass:"title"},[t._v(" "+t._s(e.title)+" ")]),i("div",{staticClass:"info"},[i("span",{staticClass:"time"},[t._v(" "+t._s(t.$dayjs(e.info_at).format("YYYY-MM-DD"))+" ")])])])})),0)]),i("div",{ref:"moveDom",staticClass:"touch-div",class:{hidden:t.showDetail&&!t.showList||!t.showDetail&&t.showList},style:{height:t.detailHeight?t.detailHeight+"px":"100%"}}),t.showDetail?i("div",{staticClass:"detail-content",style:{width:t.$config.staticWidth-4-t.sideWidth+"px"}},[i("div",{staticClass:"title",attrs:{id:"article-detail-title"}},[i("span",{staticClass:"name"},[t._v(" "+t._s(t.title)+" ")]),i("span",{staticClass:"date"},[t._v(" "+t._s(t.$dayjs(t.fullData.updated_at).format("YYYY-MM-DD"))+" ")])]),"YUQUE"===t.platform?[i("iframe",{staticStyle:{width:"100%",height:"calc(100vh - 4px)",border:"none"},attrs:{srcdoc:t.data,frameborder:"0",scrolling:"auto"}})]:[i("div",{staticClass:"markdown-container markdown-body",attrs:{id:"article-detail-body"},domProps:{innerHTML:t._s(t.data)}})]],2):t._e()])},a=[],o=i("1da1"),s=(i("99af"),i("fb6a"),i("96cf"),i("ac0d")),r=i("d354"),l=i("a417"),c={baseUrl:l["a"].e_isconte+"/api/articles",index:function(t){var e=t.offset,i=t.limit;return Object(r["a"])({url:this.baseUrl,method:"get",params:{offset:e,limit:i}})},docDetail:function(t){return Object(r["a"])({url:this.baseUrl+"/"+t,method:"get"})}},d=c,u=i("487a"),h=i.n(u),f={name:"Article",directives:{infiniteScroll:h.a},mixins:[s["b"]],data:function(){return{loading:!0,items:[],offset:0,limit:100,busy:!1,total:0,data:"",title:"",platform:"ORI",fullData:"",sideWidthDefault:300,sideWidth:0,sideMaxWidth:500,sideMinWidth:220,clientStartX:0,detailHeight:0}},computed:{listHeight:function(){return this.contentHeight},id:function(){var t=this.$route.params.id?this.$route.params.id:0;return t},showDetail:function(){return this.id&&this.data}},watch:{id:function(t,e){var i=this;this.detail(),this.active(t,e),this.showListAction(this.showListDeal()),t?this.sideWidth=this.sideWidthDefault:(this.data="",this.sideWidth=0),e||this.$nextTick((function(){i.dragControllerDeal()}))},clientWidth:function(t){this.showListAction(this.showListDeal())}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.index();case 2:if(t.showListAction(t.showListDeal()),!t.id){e.next=10;break}return t.sideWidth=t.sideWidthDefault,e.next=7,t.detail();case 7:return e.next=9,t.active(t.id,0);case 9:t.dragControllerDeal();case 10:setTimeout((function(){t.loading=!1}),300);case 11:case"end":return e.stop()}}),e)})))()},methods:{index:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i,n,a,o,s,r,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.offset,n=t.limit,e.next=3,d.index({offset:i,limit:n});case 3:a=e.sent,0===a.data.code&&(o=a.data.data,s=o.hasMore,r=o.items,l=o.totalCount,t.total=l,t.busy=!s,r.length>0&&(t.items=t._.concat(t.items,r)));case 5:case"end":return e.stop()}}),e)})))()},loadMore:function(){this.offset+=this.limit,this.index()},detail:function(){var t=this;d.docDetail(this.id).then((function(e){if(0===e.data.code){var i=e.data.data.res,n=i.platform;"ORI"===n&&(t.data=i.content_html),"YUQUE"===n&&(t.data=i.yuque_content.body_html),t.title=i.title,t.fullData=i,t.$nextTick((function(){t.setDragHeight()}))}}))},active:function(t,e){var i=document.querySelector("#nav-item-"+t),n=document.querySelector("#nav-item-"+e);i&&i.classList.add("active"),n&&n.classList.remove("active")},dragControllerDeal:function(){var t=this,e=this.$refs.moveDom;e.onmousedown=function(e){t.clientStartX=e.clientX,e.preventDefault(),document.onmousemove=function(e){t.moveHandle(e.clientX)},document.onmouseup=function(e){document.onmouseup=null,document.onmousemove=null,t.setDragHeight()}}},moveHandle:function(t){var e=t-this.clientStartX,i=this.sideWidth+e;i<this.sideMinWidth&&(i=this.sideMinWidth),i>this.sideMaxWidth&&(i=this.sideMaxWidth),this.sideWidth=i,this.clientStartX=t},showListDeal:function(){return!this.id||!(this.clientWidth<this.$config.articleShowListWidth)},setDragHeight:function(){if(this.id){var t=document.querySelector("#article-detail-title"),e=window.getComputedStyle(t).getPropertyValue("height"),i=document.querySelector("#article-detail-body"),n=window.getComputedStyle(i).getPropertyValue("height"),a=window.innerHeight,o=parseFloat(e.slice(0,-2))+parseFloat(n.slice(0,-2));this.detailHeight=o>a?o:a}}}},m=f,v=(i("e7c9"),i("2877")),w=Object(v["a"])(m,n,a,!1,null,"6ded2eea",null);e["default"]=w.exports},"487a":function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){"use strict";var t="@@InfiniteScroll",e=function(t,e){var i,n,a,o,s,r=function(){t.apply(o,s),n=i};return function(){if(o=this,s=arguments,i=Date.now(),a&&(clearTimeout(a),a=null),n){var t=e-(i-n);t<0?r():a=setTimeout((function(){r()}),t)}else r()}},i=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},n=document.defaultView.getComputedStyle,a=function(t){var e=t;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType){var i=n(e).overflowY;if("scroll"===i||"auto"===i)return e;e=e.parentNode}return window},o=function(t){return t===window?document.documentElement.clientHeight:t.clientHeight},s=function(t){return t===window?i(window):t.getBoundingClientRect().top+i(window)},r=function(t){var e=t.parentNode;while(e){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},l=function(){if(!this.binded){this.binded=!0;var t=this,i=t.el,n=i.getAttribute("infinite-scroll-throttle-delay"),o=200;n&&(o=Number(t.vm[n]||n),(isNaN(o)||o<0)&&(o=200)),t.throttleDelay=o,t.scrollEventTarget=a(i),t.scrollListener=e(c.bind(t),t.throttleDelay),t.scrollEventTarget.addEventListener("scroll",t.scrollListener),this.vm.$on("hook:beforeDestroy",(function(){t.scrollEventTarget.removeEventListener("scroll",t.scrollListener)}));var s=i.getAttribute("infinite-scroll-disabled"),r=!1;s&&(this.vm.$watch(s,(function(e){t.disabled=e,!e&&t.immediateCheck&&c.call(t)})),r=Boolean(t.vm[s])),t.disabled=r;var l=i.getAttribute("infinite-scroll-distance"),d=0;l&&(d=Number(t.vm[l]||l),isNaN(d)&&(d=0)),t.distance=d;var u=i.getAttribute("infinite-scroll-immediate-check"),h=!0;u&&(h=Boolean(t.vm[u])),t.immediateCheck=h,h&&c.call(t);var f=i.getAttribute("infinite-scroll-listen-for-event");f&&t.vm.$on(f,(function(){c.call(t)}))}},c=function(t){var e=this.scrollEventTarget,n=this.el,a=this.distance;if(!0===t||!this.disabled){var r=i(e),l=r+o(e),c=!1;if(e===n)c=e.scrollHeight-l<=a;else{var d=s(n)-s(e)+n.offsetHeight+r;c=l+a>=d}c&&this.expression&&this.expression()}},d={bind:function(e,i,n){e[t]={el:e,vm:n.context,expression:i.value};var a=arguments;e[t].vm.$on("hook:mounted",(function(){e[t].vm.$nextTick((function(){r(e)&&l.call(e[t],a),e[t].bindTryCount=0;var i=function i(){e[t].bindTryCount>10||(e[t].bindTryCount++,r(e)?l.call(e[t],a):setTimeout(i,50))};i()}))}))},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener("scroll",e[t].scrollListener)}},u=function(t){t.directive("InfiniteScroll",d)};return window.Vue&&(window.infiniteScroll=d,Vue.use(u)),d.install=u,d}))},"99af":function(t,e,i){"use strict";var n=i("23e7"),a=i("d039"),o=i("e8b5"),s=i("861d"),r=i("7b0b"),l=i("50c4"),c=i("8418"),d=i("65f0"),u=i("1dde"),h=i("b622"),f=i("2d00"),m=h("isConcatSpreadable"),v=9007199254740991,w="Maximum allowed index exceeded",p=f>=51||!a((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),g=u("concat"),b=function(t){if(!s(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)},y=!p||!g;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,i,n,a,o,s=r(this),u=d(s,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?s:arguments[e],b(o)){if(a=l(o.length),h+a>v)throw TypeError(w);for(i=0;i<a;i++,h++)i in o&&c(u,h,o[i])}else{if(h>=v)throw TypeError(w);c(u,h++,o)}return u.length=h,u}})},d3d1:function(t,e,i){},e7c9:function(t,e,i){"use strict";i("d3d1")},fb6a:function(t,e,i){"use strict";var n=i("23e7"),a=i("861d"),o=i("e8b5"),s=i("23cb"),r=i("50c4"),l=i("fc6a"),c=i("8418"),d=i("b622"),u=i("1dde"),h=u("slice"),f=d("species"),m=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!h},{slice:function(t,e){var i,n,d,u=l(this),h=r(u.length),w=s(t,h),p=s(void 0===e?h:e,h);if(o(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!o(i.prototype)?a(i)&&(i=i[f],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return m.call(u,w,p);for(n=new(void 0===i?Array:i)(v(p-w,0)),d=0;w<p;w++,d++)w in u&&c(n,d,u[w]);return n.length=d,n}})}}]);