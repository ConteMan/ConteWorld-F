(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d2efc11"],{"230c":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-detail-container",style:{height:t.listHeight+"px"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"},{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-content",class:{"only-list":!t.showDetail},style:{height:t.listHeight+"px","min-width":t.sideWidth+"px","max-width":t.sideWidth+"px"},attrs:{"infinite-scroll-delay":"1000","infinite-scroll-disabled":t.busy,"infinite-scroll-distance":"200","infinite-scroll-immediate-check":"true"}},[t.items.length?[t._l(t.items,(function(e){return[i("div",{key:e.id,staticClass:"list-item",attrs:{id:"nav-item-"+e.id},on:{click:function(i){return t.$router.push({params:{id:e.id}})}}},[i("div",{staticClass:"title"},[t._v(" "+t._s(e.title)+" ")]),i("div",{staticClass:"info"},[i("span",{staticClass:"time"},[t._v(" "+t._s(t.$dayjs(e.info_at).format("YYYY-MM-DD"))+" ")])])])]}))]:t._e()],2),i("div",{ref:"moveDom",staticClass:"touch-div",class:{hidden:!t.showDetail}},[i("span")]),t.showDetail?i("div",{staticClass:"detail-content"},[i("div",{staticClass:"title"},[i("span",{staticClass:"name"},[t._v(" "+t._s(t.title)+" ")]),i("span",{staticClass:"date"},[t._v(" "+t._s(t.$dayjs(t.fullData.updated_at).format("YYYY-MM-DD"))+" ")])]),"YUQUE"===t.platform?[i("iframe",{staticStyle:{width:"100%",height:"calc(100vh - 4px)",border:"none"},attrs:{srcdoc:t.data,frameborder:"0",scrolling:"auto"}})]:[i("div",{staticClass:"markdown-container markdown-body",domProps:{innerHTML:t._s(t.data)}})]],2):t._e()])},a=[],o=i("1da1"),s=(i("99af"),i("96cf"),i("ac0d")),r=i("d354"),l=i("a417"),c={baseUrl:l["a"].e_isconte+"/api/articles",index:function(t){var e=t.offset,i=t.limit;return Object(r["a"])({url:this.baseUrl,method:"get",params:{offset:e,limit:i}})},docDetail:function(t){return Object(r["a"])({url:this.baseUrl+"/"+t,method:"get"})}},d=c,u=i("487a"),f=i.n(u),h={name:"Article",directives:{infiniteScroll:f.a},mixins:[s["b"]],data:function(){return{loading:!0,items:[],offset:0,limit:20,busy:!1,total:0,data:"",title:"",platform:"ORI",fullData:"",sideWidth:300,sideMaxWidth:500,sideMinWidth:220,clientStartX:0,showList:!1}},computed:{listHeight:function(){return this.contentHeight-this.$config.headerHeight},id:function(){var t=this.$route.params.id?this.$route.params.id:0;return t},showDetail:function(){return this.id&&this.data}},watch:{id:function(t,e){var i=this;this.detail(),this.active(t,e),this.showList=this.showListDeal(),t||(this.data=""),e||this.$nextTick((function(){i.dragControllerDeal()}))},clientWidth:function(t){console.log(t),this.showList=this.showListDeal()}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.index();case 2:if(t.showList=t.showListDeal(),!t.id){e.next=9;break}return e.next=6,t.detail();case 6:return e.next=8,t.active(t.id,0);case 8:t.dragControllerDeal();case 9:setTimeout((function(){t.loading=!1}),300);case 10:case"end":return e.stop()}}),e)})))()},methods:{index:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i,n,a,o,s,r,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.offset,n=t.limit,e.next=3,d.index({offset:i,limit:n});case 3:a=e.sent,0===a.data.code&&(o=a.data.data,s=o.hasMore,r=o.items,l=o.totalCount,t.total=l,t.busy=s,r.length>0&&(t.items=t._.concat(t.items,r)));case 5:case"end":return e.stop()}}),e)})))()},loadMore:function(){this.offset+=this.limit,this.index()},detail:function(){var t=this;d.docDetail(this.id).then((function(e){if(0===e.data.code){var i=e.data.data.res,n=i.platform;"ORI"===n&&(t.data=i.content_html),"YUQUE"===n&&(t.data=i.yuque_content.body_html),t.title=i.title,t.fullData=i}}))},active:function(t,e){var i=document.querySelector("#nav-item-"+t),n=document.querySelector("#nav-item-"+e);i&&i.classList.add("active"),e>0&&n&&n.classList.remove("active")},dragControllerDeal:function(){var t=this,e=this.$refs.moveDom;e.onmousedown=function(e){t.clientStartX=e.clientX,e.preventDefault(),document.onmousemove=function(e){t.moveHandle(e.clientX)},document.onmouseup=function(t){document.onmouseup=null,document.onmousemove=null}}},moveHandle:function(t){var e=t-this.clientStartX,i=this.sideWidth+e;i<this.sideMinWidth&&(i=this.sideMinWidth),i>this.sideMaxWidth&&(i=this.sideMaxWidth),this.sideWidth=i,this.clientStartX=t},showListDeal:function(){return!this.id||!(this.clientWidth<700)}}},m=h,v=(i("3f22"),i("2877")),w=Object(v["a"])(m,n,a,!1,null,"00ac94c1",null);e["default"]=w.exports},"3f22":function(t,e,i){"use strict";i("bf44")},"487a":function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){"use strict";var t="@@InfiniteScroll",e=function(t,e){var i,n,a,o,s,r=function(){t.apply(o,s),n=i};return function(){if(o=this,s=arguments,i=Date.now(),a&&(clearTimeout(a),a=null),n){var t=e-(i-n);t<0?r():a=setTimeout((function(){r()}),t)}else r()}},i=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},n=document.defaultView.getComputedStyle,a=function(t){var e=t;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType){var i=n(e).overflowY;if("scroll"===i||"auto"===i)return e;e=e.parentNode}return window},o=function(t){return t===window?document.documentElement.clientHeight:t.clientHeight},s=function(t){return t===window?i(window):t.getBoundingClientRect().top+i(window)},r=function(t){var e=t.parentNode;while(e){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},l=function(){if(!this.binded){this.binded=!0;var t=this,i=t.el,n=i.getAttribute("infinite-scroll-throttle-delay"),o=200;n&&(o=Number(t.vm[n]||n),(isNaN(o)||o<0)&&(o=200)),t.throttleDelay=o,t.scrollEventTarget=a(i),t.scrollListener=e(c.bind(t),t.throttleDelay),t.scrollEventTarget.addEventListener("scroll",t.scrollListener),this.vm.$on("hook:beforeDestroy",(function(){t.scrollEventTarget.removeEventListener("scroll",t.scrollListener)}));var s=i.getAttribute("infinite-scroll-disabled"),r=!1;s&&(this.vm.$watch(s,(function(e){t.disabled=e,!e&&t.immediateCheck&&c.call(t)})),r=Boolean(t.vm[s])),t.disabled=r;var l=i.getAttribute("infinite-scroll-distance"),d=0;l&&(d=Number(t.vm[l]||l),isNaN(d)&&(d=0)),t.distance=d;var u=i.getAttribute("infinite-scroll-immediate-check"),f=!0;u&&(f=Boolean(t.vm[u])),t.immediateCheck=f,f&&c.call(t);var h=i.getAttribute("infinite-scroll-listen-for-event");h&&t.vm.$on(h,(function(){c.call(t)}))}},c=function(t){var e=this.scrollEventTarget,n=this.el,a=this.distance;if(!0===t||!this.disabled){var r=i(e),l=r+o(e),c=!1;if(e===n)c=e.scrollHeight-l<=a;else{var d=s(n)-s(e)+n.offsetHeight+r;c=l+a>=d}c&&this.expression&&this.expression()}},d={bind:function(e,i,n){e[t]={el:e,vm:n.context,expression:i.value};var a=arguments;e[t].vm.$on("hook:mounted",(function(){e[t].vm.$nextTick((function(){r(e)&&l.call(e[t],a),e[t].bindTryCount=0;var i=function i(){e[t].bindTryCount>10||(e[t].bindTryCount++,r(e)?l.call(e[t],a):setTimeout(i,50))};i()}))}))},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener("scroll",e[t].scrollListener)}},u=function(t){t.directive("InfiniteScroll",d)};return window.Vue&&(window.infiniteScroll=d,Vue.use(u)),d.install=u,d}))},"99af":function(t,e,i){"use strict";var n=i("23e7"),a=i("d039"),o=i("e8b5"),s=i("861d"),r=i("7b0b"),l=i("50c4"),c=i("8418"),d=i("65f0"),u=i("1dde"),f=i("b622"),h=i("2d00"),m=f("isConcatSpreadable"),v=9007199254740991,w="Maximum allowed index exceeded",p=h>=51||!a((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),g=u("concat"),b=function(t){if(!s(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)},x=!p||!g;n({target:"Array",proto:!0,forced:x},{concat:function(t){var e,i,n,a,o,s=r(this),u=d(s,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?s:arguments[e],b(o)){if(a=l(o.length),f+a>v)throw TypeError(w);for(i=0;i<a;i++,f++)i in o&&c(u,f,o[i])}else{if(f>=v)throw TypeError(w);c(u,f++,o)}return u.length=f,u}})},bf44:function(t,e,i){}}]);